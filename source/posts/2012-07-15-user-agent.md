# История идентификаторов User-Agent разных браузеров

*По мотивам [старой записи Аарона Андерсена][1]*

Поначалу был один браузер - [NCSA Mosaic](http://ru.wikipedia.org/wiki/NCSA_Mosaic). Он честно писал о себе `NCSA_Mosaic/2.0 (Windows 3.1)` и отображал картинки и текст, и было это хорошо.

Потом появился [«Mozilla»](http://ru.wikipedia.org/wiki/Netscape_Navigator). Теперь уже никто и не помнит, что это сокращение от «Mosaic Killer». Ну, разработчики Mosaic этого не испугались, потому что публичное название было  «Netscape», а представлялся он как `Mozilla/1.0 (Win3.1)`, и это было хорошо.  Netscape поддерживал фреймы, чем полюбился многим,  поэтому веб-мастера стали показывать пользователям разные страницы: для «Mozilla» — с фреймами, а для других — без.

Потом кто-то в Netscape решил: давайте поржём над Microsoft и назовем Windows «плохо отлаженным драйвером к железу». Дошутились: Microsoft занервничал и сделал свой собственный веб-браузер, нарёк его [Internet Explorer](http://ru.wikipedia.org/wiki/Internet_Explorer), надеясь, что он будет «убийцей Netscape». И Explorer поддерживал фреймы, но не был Mozilla, так что подлые веб-мастера фреймы ему не показывали, конечно. Тогда в Microsoft терпеть не любили и уж точно не хотели ждать, пока веб-мастера узнают об Explorer. Ну и объявил Microsoft, что Internet Explorer «Mozilla-совместим». Начал он притворятся Netscape и представляться как `Mozilla/1.22 (compatible; MSIE 2.0; Windows 95)`. Увидев строчку Mozilla, все сервера отправляли страницу с фреймами, и все в Microsoft были счастливы, а веб-мастера слегка замешательстве.

Microsoft стал продавать IE вместе с Windows и сделал браузер свой лучше, чем старый Netscape. Так началась первая браузерная война. К великой радости Microsoft, войска Netscape были разбиты, но браузер переродился как [Mozilla](http://ru.wikipedia.org/wiki/Mozilla). И Mozilla породила [Gecko](http://ru.wikipedia.org/wiki/Gecko) и говорила о себе `Mozilla/5.0 (Windows; U; Windows NT 5.0; en-US; rv:1.1) Gecko/20020826`. Потом Mozilla переродилась в [Firefox](http://ru.wikipedia.org/wiki/Mozilla_Firefox) и назвала себя `Mozilla/5.0 (Windows; U; Windows NT 5.1; sv-SE; rv:1.7.5) Gecko/20041108 Firefox/1.0`. Стал Gecko плодиться и размножаться, на его коде поднялись и другие браузеры: один называл себя `Mozilla/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US; rv:1.7.2) Gecko/20040825 Camino/0.8.1`, а другой `Mozilla/5.0 (Windows; U; Windows NT 5.1; de; rv:1.8.1.8) Gecko/20071008 SeaMonkey/1.0`. И каждый претендовал на то, чтобы быть Mozilla, и оба они работали на Gecko.

И Gecko был хорош, а IE нет. И снова веб-мастера смотрели на юзер-агентов, и выдавали веб-мастера в Gecko хороший html, а другим браузерам - нет. И тут опечалились поклонники юниксов, потому что они строили [«Konqueror»](http://ru.wikipedia.org/wiki/Konqueror), который рендерил страницы с помощью [«KHTML»](http://ru.wikipedia.org/wiki/KHTML). Думали они, что KHTML так же хорош, как и Gecko, но был он не Gecko, а посему не давали ему веб-мастера хороший HTML. Стал Konquerer писать о себе “like Gecko” чтобы получать красивые страницы, и называть себя `Mozilla/5.0 (compatible; Konqueror/3.2; FreeBSD) (KHTML, like Gecko)`, чем, надо сказать, породил много путаницы.

Затем появилась маленькая (и слегка зелёная) [«Opera»](http://ru.wikipedia.org/wiki/Opera) и сказала: «пользователям можем нашим свободу предоставить, браузером каким притворяться должны мы». И создали в Opera меню, и стала опера называть себя `Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; en) Opera 9.51`, или `Mozilla/5.0 (Windows NT 6.0; U; en; rv:1.8.1) Gecko/20061208 Firefox/2.0.0 Opera 9.51`, а то и вовсе `Opera/9.51 (Windows NT 5.1; U; en)`, в зависимости от того, что пользователь выбрал.

Apple, в конце концов, родили свой браузер -  [«Safari»](http://ru.wikipedia.org/wiki/Apple_Safari), использовав KHTML, но добавили туда много фич, форкнули проект и назвали его [WebKit](http://ru.wikipedia.org/wiki/WebKit). А потом в Apple захотели, чтобы веб-мастера отдавали для них страницы, написанные для KHTML, и стал Safari называть себя `Mozilla/5.0 (Macintosh; U; PPC Mac OS X; de-de) AppleWebKit/85.7 (KHTML, like Gecko) Safari/85.5`, а после - и того хуже.

Тем временем в Microsoft увидели рост Firefox, вернулись к Internet Explorer, выпустили новую версию и назвали её `Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0)`. И новый IE рендерил хороший код, но только когда веб-мастера приказывали ему делать так.

И тогда построил Google свой браузер - [Chrome](http://ru.wikipedia.org/wiki/Google_Chrome). Chrome использовал WebKit, т. е. был как Safari, и хотел получать страницы для Safari, так что он представлялся Safari. Так что Chrome использовал WebKit и притворялся Safari, WebKit притворялся KHTML, и KTHML притворялся Gecko, и все вместе притворялись Mozilla, так что Chrome назвал себя `Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.13 (KHTML, like Gecko) Chrome/0.2.149.27 Safari/525.13`. И стала строка user-agent бесполезным набором байтов. Каждый притворялся каждым, и смятение царило кругом.


[1]: http://webaim.org/blog/user-agent-string-history/